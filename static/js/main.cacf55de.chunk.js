(this.webpackJsonpshows=this.webpackJsonpshows||[]).push([[0],{126:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),i=n.n(c),s=n(50),o=n(13),l=n(178),u=n(167),j=n(170),d=n(172),b=n(3),v=Object(u.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function h(){var e=v();return Object(b.jsx)("div",{className:"".concat(e.root," nav"),children:Object(b.jsx)(j.a,{position:"static",color:"transparent",children:Object(b.jsx)(d.a,{children:Object(b.jsxs)("div",{style:{margin:"0 auto"},children:[Object(b.jsx)(s.b,{exact:!0,to:"/",className:"nav-link",activeClassName:"main-nav-active",children:"Home"}),Object(b.jsx)(s.b,{exact:!0,to:"/about",className:"nav-link",activeClassName:"main-nav-active",children:"Sobre"}),Object(b.jsx)(s.b,{exact:!0,to:"/favorites",className:"nav-link",activeClassName:"main-nav-active",children:"Favoritos"})]})})})})}var f=n(20),O=n(84),x=n.n(O),p=Object(a.createContext)({});function m(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),r=n[0],c=n[1],i=x.a.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"30540b347aa0e1bf389387ac8b7c3d85"}});return Object(b.jsx)(p.Provider,{value:{tmdbApi:i,loading:r,setLoading:c},children:e.children})}function g(){var e=Object(a.useContext)(p);if(!e)throw new Error("Missing RootProvider");return e}var w=n(33),y=n.n(w),I=n(42),k=Object(a.createContext)({});function N(e){var t=Object(a.useState)([]),n=Object(f.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(""),s=Object(f.a)(i,2),o=s[0],l=s[1],u=g(),j=u.tmdbApi,d=u.setLoading,v=function(){var e=Object(I.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("search/movie?query=".concat(t));case 2:(n=e.sent)&&c(n.data.results),d(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(k.Provider,{value:{movies:r,searchMovie:v,movieInput:o,setMovieInput:l},children:e.children})}function C(){var e=Object(a.useContext)(k);if(!e)throw new Error("Missing MovieProvider");return e}var S=Object(a.createContext)({});function M(e){var t=Object(a.useState)(""),n=Object(f.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)([]),s=Object(f.a)(i,2),o=s[0],l=s[1],u=g().setLoading,j=g().tmdbApi,d=function(){var e=Object(I.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("search/tv?query=".concat(t));case 2:(n=e.sent)&&l(n.data.results),u(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(S.Provider,{value:{showInput:r,setShowInput:c,shows:o,searchShow:d},children:e.children})}function F(){var e=Object(a.useContext)(S);if(!e)throw new Error("Missing ShowProvider");return e}var E=Object(a.createContext)({});function _(e){var t=Object(a.useState)("movie"),n=Object(f.a)(t,2),r=n[0],c=n[1];return Object(b.jsx)(E.Provider,{value:{searchType:r,setSearchType:c},children:e.children})}function P(){var e=Object(a.useContext)(E);if(!e)throw new Error("Missing SearchProvider");return e}var T=n(67),D=Object(a.createContext)({});function R(e){var t=Object(a.useState)([]),n=Object(f.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)([]),s=Object(f.a)(i,2),o=s[0],l=s[1],u=g().tmdbApi,j=function(e){return r.filter((function(t){return t.id===e}))},d=function(e){c(r.filter((function(t){return t.id!==e}))),l(o.filter((function(t){return t.id!==e})))},v=function(){var e=Object(I.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==o.filter((function(e){return e.id===t.id})).length){e.next=6;break}return e.next=4,u.get("/".concat(t.isMovie?"movie":"tv","/").concat(t.id));case 4:(n=e.sent)&&l([].concat(Object(T.a)(o),[n.data]));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){r.map((function(e){return v(e),null}))};return Object(b.jsx)(D.Provider,{value:{favoritesId:r,setFavoritesId:c,activeHeart:function(e){return 0!==j(e).length?"true":void 0},handleHeartClick:function(e){var t=e.id;"REMOVE_FAVORITE"===e.isMovie&&d(t),1===j(t).length?d(t):c([].concat(Object(T.a)(r),[e])),h()},favoritesData:o,setFavoritesData:l,getDataFromFavoritesId:h},children:e.children})}function A(){var e=Object(a.useContext)(D);if(!e)throw new Error("Missing FavoriteProvider");return e}var V=n(176);function H(e){var t=e.searchTypeIsMovie,n=C(),r=n.movieInput,c=n.setMovieInput,i=n.searchMovie,s=F(),o=s.showInput,l=s.setShowInput,u=s.searchShow,j=function(e,t){var n=Object(a.useRef)(0);return function(){for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];window.clearTimeout(n.current),n.current=window.setTimeout((function(){e(r)}),t)}}(t?i:u,500);return Object(b.jsx)(V.a,{label:"Pesquise",variant:"outlined",value:t?r:o,onChange:function(e){t?(c(e.target.value),e.target.value&&j(e.target.value)):(l(e.target.value),e.target.value&&j(e.target.value))}})}var L=n(85),q=n(5),B=n(177),G=n(179),J=n(180),U=Object(u.a)({root:{"&:hover":{backgroundColor:"transparent"}},icon:{borderRadius:"50%",width:16,height:16,boxShadow:"inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)",backgroundColor:"#f5f8fa",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))","$root.Mui-focusVisible &":{outline:"2px auto rgba(19,124,189,.6)",outlineOffset:2},"input:hover ~ &":{backgroundColor:"#ebf1f5"},"input:disabled ~ &":{boxShadow:"none",background:"rgba(206,217,224,.5)"}},checkedIcon:{backgroundColor:"#137cbd",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))","&:before":{display:"block",width:16,height:16,backgroundImage:"radial-gradient(#fff,#fff 28%,transparent 32%)",content:'""'},"input:hover ~ &":{backgroundColor:"#106ba3"}}});function W(e){var t=U();return Object(b.jsx)(B.a,Object(L.a)({className:t.root,disableRipple:!0,color:"default",checkedIcon:Object(b.jsx)("span",{className:Object(q.a)(t.icon,t.checkedIcon)}),icon:Object(b.jsx)("span",{className:t.icon})},e))}function $(){var e=P(),t=e.searchType,n=e.setSearchType;return Object(b.jsxs)(G.a,{defaultValue:"movie",style:{display:"flex",flexDirection:"row"},value:t,onChange:function(e){return n(e.target.value)},children:[Object(b.jsx)(J.a,{className:"radio",value:"movie",control:Object(b.jsx)(W,{}),label:"Filme"}),Object(b.jsx)(J.a,{className:"radio",value:"show",control:Object(b.jsx)(W,{}),label:"S\xe9rie"})]})}function z(){var e=P().searchType,t=C(),n=t.searchMovie,a=t.movieInput,r=F(),c=r.searchShow,i=r.showInput,s="movie"===e;return Object(b.jsxs)("form",{className:"search",onSubmit:s?function(e){return function(e){e.preventDefault(),n(a)}(e)}:function(e){return function(e){e.preventDefault(),c(i)}(e)},children:[Object(b.jsx)(H,{searchTypeIsMovie:"movie"===e}),Object(b.jsx)($,{})]})}var K=n(173),Q=n(129),X=n(181),Y=n(63),Z=n(175),ee={in:{opacity:1},out:{opacity:0}},te={duration:1},ne=n.p+"static/media/spinner.5e412ab9.svg";function ae(){var e=A(),t=e.activeHeart,n=e.handleHeartClick,a=P().searchType,r=C().movies,c=F().shows,i=g().loading,s="movie"===a,o=s?r:c,l=ee,u=te;return i?Object(b.jsx)("div",{className:"spinner-wrapper",children:Object(b.jsx)("img",{src:ne,alt:"loading-spinner",className:"spinner"})}):Object(b.jsx)(b.Fragment,{children:o&&o.map((function(e){return e.poster_path?Object(b.jsx)(K.a,{item:!0,className:"item",children:Object(b.jsx)(Z.a.div,{initial:"out",animate:"in",exit:"out",variants:l,transition:u,children:Object(b.jsxs)(Q.a,{elevation:1,className:"paper",children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{className:"poster-img",src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:e.original_title})}),Object(b.jsx)("div",{style:{textAlign:"center"},children:Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(b.jsx)("p",{children:e.original_title}),Object(b.jsx)(Y.a,{hearted:t(e.id),onClick:function(){n({isMovie:s,id:e.id})}}),Object(b.jsx)(X.a,{readOnly:!0,defaultValue:e.vote_average,max:10})]})})]})})},e.id):null}))})}function re(){return Object(b.jsx)(K.a,{container:!0,alignItems:"center",justify:"center",style:{margin:"0 auto"},children:Object(b.jsx)(ae,{})})}var ce=n(174);function ie(){return Object(b.jsxs)(ce.a,{children:[Object(b.jsx)(z,{}),Object(b.jsx)(re,{})]})}function se(e){return Object(b.jsx)(ce.a,{children:Object(b.jsx)("div",{children:"Projeto de Desenvolvimento Web I"})})}var oe=n.p+"static/media/empty.a03c1a88.svg";function le(e){return Object(b.jsxs)("div",{className:"no-fav",children:[Object(b.jsx)("p",{className:"text-empty",children:e.message}),Object(b.jsx)("img",{src:oe,alt:"No favorites",className:"empty"})]})}function ue(){var e=A(),t=e.favoritesData,n=e.activeHeart,r=e.handleHeartClick,c=e.getDataFromFavoritesId,i=ee,s=te;return Object(a.useEffect)((function(){c()}),[]),console.log(t),0===t.length?Object(b.jsx)(le,{message:"N\xe3o h\xe1 filmes ou s\xe9ries favoritas"}):Object(b.jsx)(b.Fragment,{children:t.length>0&&t.map((function(e){return e.poster_path?Object(b.jsx)(K.a,{item:!0,className:"item",children:Object(b.jsx)(Z.a.div,{initial:"out",animate:"in",exit:"out",variants:i,transition:s,children:Object(b.jsxs)(Q.a,{elevation:1,className:"paper",children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{className:"poster-img",src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:e.original_title})}),Object(b.jsx)("div",{style:{textAlign:"center"},children:Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(b.jsx)("p",{children:e.original_title}),Object(b.jsx)(Y.a,{hearted:n(e.id),onClick:function(){r({isMovie:"REMOVE_FAVORITE",id:e.id})}}),Object(b.jsx)(X.a,{readOnly:!0,defaultValue:e.vote_average,max:10})]})})]})})},e.id):null}))})}function je(){return Object(b.jsx)(K.a,{container:!0,alignItems:"center",justify:"center",style:{margin:"0 auto"},children:Object(b.jsx)(ue,{})})}function de(){return Object(b.jsx)(ce.a,{children:Object(b.jsx)(je,{})})}function be(){return Object(b.jsxs)(s.a,{children:[Object(b.jsx)(h,{}),Object(b.jsx)(l.a,{children:Object(b.jsx)(m,{children:Object(b.jsx)(_,{children:Object(b.jsx)(R,{children:Object(b.jsx)(M,{children:Object(b.jsx)(N,{children:Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{exact:!0,path:"/",component:ie}),Object(b.jsx)(o.a,{exact:!0,path:"/about",component:se}),Object(b.jsx)(o.a,{exact:!0,path:"/favorites",component:de})]})})})})})})})})]})}n(126);i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(be,{})}),document.getElementById("root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.cacf55de.chunk.js.map