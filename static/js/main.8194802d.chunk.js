(this.webpackJsonpshows=this.webpackJsonpshows||[]).push([[0],{127:function(e,t,n){},128:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),i=n.n(c),o=n(50),s=n(13),l=n(181),u=n(169),j=n(172),d=n(174),b=n(3),v=Object(u.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function h(){var e=v();return Object(b.jsx)("div",{className:"".concat(e.root," nav"),children:Object(b.jsx)(j.a,{position:"static",color:"transparent",children:Object(b.jsx)(d.a,{children:Object(b.jsxs)("div",{style:{margin:"0 auto"},children:[Object(b.jsx)(o.b,{exact:!0,to:"/",className:"nav-link",activeClassName:"main-nav-active",children:"Home"}),Object(b.jsx)(o.b,{exact:!0,to:"/about",className:"nav-link",activeClassName:"main-nav-active",children:"Sobre"}),Object(b.jsx)(o.b,{exact:!0,to:"/favorites",className:"nav-link",activeClassName:"main-nav-active",children:"Favoritos"})]})})})})}var x=n(21),f=n(84),O=n.n(f),m=Object(a.createContext)({});function p(e){var t=Object(a.useState)(!1),n=Object(x.a)(t,2),r=n[0],c=n[1],i=O.a.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"30540b347aa0e1bf389387ac8b7c3d85"}});return Object(b.jsx)(m.Provider,{value:{tmdbApi:i,loading:r,setLoading:c},children:e.children})}function g(){var e=Object(a.useContext)(m);if(!e)throw new Error("Missing RootProvider");return e}var w=n(33),y=n.n(w),I=n(42),S=Object(a.createContext)({});function k(e){var t=Object(a.useState)([]),n=Object(x.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(""),o=Object(x.a)(i,2),s=o[0],l=o[1],u=g(),j=u.tmdbApi,d=u.setLoading,v=function(){var e=Object(I.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("search/movie?query=".concat(t));case 2:(n=e.sent)&&c(n.data.results),d(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(S.Provider,{value:{movies:r,searchMovie:v,movieInput:s,setMovieInput:l},children:e.children})}function C(){var e=Object(a.useContext)(S);if(!e)throw new Error("Missing MovieProvider");return e}var N=Object(a.createContext)({});function M(e){var t=Object(a.useState)(""),n=Object(x.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)([]),o=Object(x.a)(i,2),s=o[0],l=o[1],u=g().setLoading,j=g().tmdbApi,d=function(){var e=Object(I.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("search/tv?query=".concat(t));case 2:(n=e.sent)&&l(n.data.results),u(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(N.Provider,{value:{showInput:r,setShowInput:c,shows:s,searchShow:d},children:e.children})}function F(){var e=Object(a.useContext)(N);if(!e)throw new Error("Missing ShowProvider");return e}var E=Object(a.createContext)({});function P(e){var t=Object(a.useState)("movie"),n=Object(x.a)(t,2),r=n[0],c=n[1];return Object(b.jsx)(E.Provider,{value:{searchType:r,setSearchType:c},children:e.children})}function T(){var e=Object(a.useContext)(E);if(!e)throw new Error("Missing SearchProvider");return e}var _=n(68),R=Object(a.createContext)({});function A(e){var t=Object(a.useState)([]),n=Object(x.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)([]),o=Object(x.a)(i,2),s=o[0],l=o[1],u=g().tmdbApi,j=function(e){return r.filter((function(t){return t.id===e}))},d=function(e){c(r.filter((function(t){return t.id!==e}))),l(s.filter((function(t){return t.id!==e})))},v=function(){var e=Object(I.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==s.filter((function(e){return e.id===t.id})).length){e.next=6;break}return e.next=4,u.get("/".concat(t.isMovie?"movie":"tv","/").concat(t.id));case 4:(n=e.sent)&&l([].concat(Object(_.a)(s),[n.data]));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){r.map((function(e){return v(e),null}))};return Object(b.jsx)(R.Provider,{value:{favoritesId:r,setFavoritesId:c,activeHeart:function(e){return 0!==j(e).length?"true":void 0},handleHeartClick:function(e){var t=e.id;"REMOVE_FAVORITE"===e.isMovie&&d(t),1===j(t).length?d(t):c([].concat(Object(_.a)(r),[e])),h()},favoritesData:s,setFavoritesData:l,getDataFromFavoritesId:h},children:e.children})}function D(){var e=Object(a.useContext)(R);if(!e)throw new Error("Missing FavoriteProvider");return e}var H=n(179);function V(e){var t=e.searchTypeIsMovie,n=C(),r=n.movieInput,c=n.setMovieInput,i=n.searchMovie,o=F(),s=o.showInput,l=o.setShowInput,u=o.searchShow,j=function(e,t){var n=Object(a.useRef)(0);return function(){for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];window.clearTimeout(n.current),n.current=window.setTimeout((function(){e(r)}),t)}}(t?i:u,500);return Object(b.jsx)(H.a,{label:"Pesquise",variant:"outlined",value:t?r:s,onChange:function(e){t?(c(e.target.value),e.target.value&&j(e.target.value)):(l(e.target.value),e.target.value&&j(e.target.value))}})}var q=n(175),L=n(6),U=Object(L.a)({root:{boxShadow:"none",textTransform:"none",fontSize:16,padding:"6px 12px",border:"1px solid",lineHeight:1.5,backgroundColor:"#0063cc",borderColor:"#0063cc",fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:hover":{backgroundColor:"#0069d9",borderColor:"#0062cc",boxShadow:"none"},"&:active":{boxShadow:"none",backgroundColor:"#0062cc",borderColor:"#005cbf"},"&:focus":{boxShadow:"0 0 0 0.2rem rgba(0,123,255,.5)"}}})(q.a),B=Object(u.a)((function(e){return{margin:{margin:e.spacing(1)}}}));function G(){var e=B();return Object(b.jsx)(U,{variant:"contained",color:"primary",disableRipple:!0,className:e.margin,children:"Pesquisar"})}var J=n(86),z=n(5),W=n(180),$=n(182),K=n(183),Q=Object(u.a)({root:{"&:hover":{backgroundColor:"transparent"}},icon:{borderRadius:"50%",width:16,height:16,boxShadow:"inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)",backgroundColor:"#f5f8fa",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))","$root.Mui-focusVisible &":{outline:"2px auto rgba(19,124,189,.6)",outlineOffset:2},"input:hover ~ &":{backgroundColor:"#ebf1f5"},"input:disabled ~ &":{boxShadow:"none",background:"rgba(206,217,224,.5)"}},checkedIcon:{backgroundColor:"#137cbd",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))","&:before":{display:"block",width:16,height:16,backgroundImage:"radial-gradient(#fff,#fff 28%,transparent 32%)",content:'""'},"input:hover ~ &":{backgroundColor:"#106ba3"}}});function X(e){var t=Q();return Object(b.jsx)(W.a,Object(J.a)({className:t.root,disableRipple:!0,color:"default",checkedIcon:Object(b.jsx)("span",{className:Object(z.a)(t.icon,t.checkedIcon)}),icon:Object(b.jsx)("span",{className:t.icon})},e))}function Y(){var e=T(),t=e.searchType,n=e.setSearchType;return Object(b.jsxs)($.a,{defaultValue:"movie",style:{display:"flex",flexDirection:"row"},value:t,onChange:function(e){return n(e.target.value)},children:[Object(b.jsx)(K.a,{className:"radio",value:"movie",control:Object(b.jsx)(X,{}),label:"Filme"}),Object(b.jsx)(K.a,{className:"radio",value:"show",control:Object(b.jsx)(X,{}),label:"S\xe9rie"})]})}function Z(){var e=T().searchType,t=C(),n=t.searchMovie,a=t.movieInput,r=F(),c=r.searchShow,i=r.showInput,o="movie"===e;return Object(b.jsxs)("form",{className:"search",onSubmit:o?function(e){return function(e){e.preventDefault(),n(a)}(e)}:function(e){return function(e){e.preventDefault(),c(i)}(e)},children:[Object(b.jsx)(V,{searchTypeIsMovie:"movie"===e}),Object(b.jsx)(Y,{}),Object(b.jsx)(G,{})]})}var ee=n(176),te=n(130),ne=n(184),ae=n(63),re=n(178),ce={in:{opacity:1},out:{opacity:0}},ie={duration:1},oe=n.p+"static/media/spinner.5e412ab9.svg";function se(){var e=D(),t=e.activeHeart,n=e.handleHeartClick,a=T().searchType,r=C().movies,c=F().shows,i=g().loading,o="movie"===a,s=o?r:c,l=ce,u=ie;return i?Object(b.jsx)("div",{className:"spinner-wrapper",children:Object(b.jsx)("img",{src:oe,alt:"loading-spinner",className:"spinner"})}):Object(b.jsx)(b.Fragment,{children:s&&s.map((function(e){return e.poster_path?Object(b.jsx)(ee.a,{item:!0,className:"item",children:Object(b.jsx)(re.a.div,{initial:"out",animate:"in",exit:"out",variants:l,transition:u,children:Object(b.jsxs)(te.a,{elevation:1,className:"paper",children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{className:"poster-img",src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:e.original_title})}),Object(b.jsx)("div",{style:{textAlign:"center"},children:Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(b.jsx)("p",{children:e.original_title}),Object(b.jsx)(ae.a,{hearted:t(e.id),onClick:function(){n({isMovie:o,id:e.id})}}),Object(b.jsx)(ne.a,{readOnly:!0,defaultValue:e.vote_average,max:10})]})})]})})},e.id):null}))})}function le(){return Object(b.jsx)(ee.a,{container:!0,alignItems:"center",justify:"center",style:{margin:"0 auto"},children:Object(b.jsx)(se,{})})}var ue=n(177);function je(){return Object(b.jsxs)(ue.a,{children:[Object(b.jsx)(Z,{}),Object(b.jsx)(le,{})]})}function de(e){return Object(b.jsx)(ue.a,{children:Object(b.jsx)("div",{children:"Projeto de Desenvolvimento Web I"})})}var be=n.p+"static/media/empty.a03c1a88.svg";function ve(e){return Object(b.jsxs)("div",{className:"no-fav",children:[Object(b.jsx)("p",{className:"text-empty",children:e.message}),Object(b.jsx)("img",{src:be,alt:"No favorites",className:"empty"})]})}function he(){var e=D(),t=e.favoritesData,n=e.activeHeart,r=e.handleHeartClick,c=e.getDataFromFavoritesId,i=ce,o=ie;return Object(a.useEffect)((function(){c()}),[]),console.log(t),0===t.length?Object(b.jsx)(ve,{message:"N\xe3o h\xe1 filmes ou s\xe9ries favoritas"}):Object(b.jsx)(b.Fragment,{children:t.length>0&&t.map((function(e){return e.poster_path?Object(b.jsx)(ee.a,{item:!0,className:"item",children:Object(b.jsx)(re.a.div,{initial:"out",animate:"in",exit:"out",variants:i,transition:o,children:Object(b.jsxs)(te.a,{elevation:1,className:"paper",children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{className:"poster-img",src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:e.original_title})}),Object(b.jsx)("div",{style:{textAlign:"center"},children:Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(b.jsx)("p",{children:e.original_title}),Object(b.jsx)(ae.a,{hearted:n(e.id),onClick:function(){r({isMovie:"REMOVE_FAVORITE",id:e.id})}}),Object(b.jsx)(ne.a,{readOnly:!0,defaultValue:e.vote_average,max:10})]})})]})})},e.id):null}))})}function xe(){return Object(b.jsx)(ee.a,{container:!0,alignItems:"center",justify:"center",style:{margin:"0 auto"},children:Object(b.jsx)(he,{})})}function fe(){return Object(b.jsx)(ue.a,{children:Object(b.jsx)(xe,{})})}function Oe(){return Object(b.jsxs)(o.a,{children:[Object(b.jsx)(h,{}),Object(b.jsx)(l.a,{children:Object(b.jsx)(p,{children:Object(b.jsx)(P,{children:Object(b.jsx)(A,{children:Object(b.jsx)(M,{children:Object(b.jsx)(k,{children:Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(s.c,{children:[Object(b.jsx)(s.a,{exact:!0,path:"/",component:je}),Object(b.jsx)(s.a,{exact:!0,path:"/about",component:de}),Object(b.jsx)(s.a,{exact:!0,path:"/favorites",component:fe})]})})})})})})})})]})}n(127);i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(Oe,{})}),document.getElementById("root"))}},[[128,1,2]]]);
//# sourceMappingURL=main.8194802d.chunk.js.map